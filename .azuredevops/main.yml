trigger:
  branches:
    include:
      - main

pr: none

pool:
  vmImage: 'ubuntu-latest'

variables:
  BuildConfiguration: 'Release'
  UseSemanticRelease: 'true'

resources:
  repositories:
    - repository: templates
      type: git
      name: ErikLieben.FA/build-templates
    - repository: self
      type: github
      name: eriklieben/ErikLieben.FA.StronglyTypedIds
      endpoint: github.com_eriklieben

extends:
    template: NuGet/main_template.yaml@templates
    parameters:
      repositoryName: 'eriklieben/ErikLieben.FA.StronglyTypedIds'
      solutionPath: 'ErikLieben.FA.StronglyTypedIds.sln'
      sonarCloudProjectKey: 'eriklieben_ErikLieben.FA.StronglyTypedIds'
      buildConfiguration: '$(BuildConfiguration)'
      useSemanticRelease: true
      packageProjects:
        - displayName: 'library'
          path: 'src/ErikLieben.FA.StronglyTypedIds/ErikLieben.FA.StronglyTypedIds.csproj'
        - displayName: 'generator'
          path: 'src/ErikLieben.FA.StronglyTypedIds.Generator/ErikLieben.FA.StronglyTypedIds.Generator.csproj'
